{"version":3,"sources":["components/header-bar/index.tsx","components/menu/index.tsx","components/menu-left/index.tsx","pages/dashboard/mock.ts","pages/dashboard/index.tsx","router/index.tsx","reportWebVitals.ts","index.tsx"],"names":["HeaderBar","state","icon","count","visible","id","style","lineHeight","float","className","Component","CustomMenu","openKeys","selectedKeys","defaultNodeList","handleClick","e","console","log","setState","key","props","onSelect","this","theme","mode","onClick","menus","map","item","Item","name","React","withRouter","SubMenu","current","onOpenChange","info","renderMenuItem","viewContent","title","renderSubMenu","children","child","length","url","window","history","pushState","handleMenuClick","menuPaths","findMenuPath","onMenuChange","nextProps","paths","slice","toString","height","ret","step","targetKey","findRet","push","pop","MENU_LIST","parent_id","oper_user_id","Header","Sider","Content","Footer","LAST_SELECTED_MENU","AdminHome","toggle","collapsed","genActiveRule","routerPrefix","location","pathname","startsWith","getSubTree","menu","forEach","value","getMenuQuery","filterVisibleMenu","handleMenuChange","includes","authority_type","currentMenuPaths","localStorage","setItem","selectedMenu","getItem","loading","subLoader","loader","container","document","getElementById","ReactDOM","render","position","top","left","spinning","registerMicroApps","entry","host","activeRule","beforeLoad","app","Promise","resolve","reject","beforeMount","afterUnmount","initGlobalState","user","onGlobalStateChange","setGlobalState","prev","ignore","start","runAfterFirstMounted","minHeight","zIndex","width","justify","xs","span","lg","marginTop","onCollapse","padding","margin","textAlign","BasicRoute","basename","path","component","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB"],"mappings":"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","file":"static/js/main.ec8d5eab.chunk.js","sourcesContent":["/*\n * @Author: qiuz\n * @Github: <https://github.com/qiuziz>\n * @Date:  2021-01-24 18:40:37\n * @Last Modified by: qiuz\n */\n\nimport React, { Component } from 'react';\nimport './index.less';\n\nexport default class HeaderBar extends Component<any, any> {\n  state = {\n    icon: 'arrows-alt',\n    count: 100,\n    visible: false\n  };\n\n  render() {\n    return (\n      <div id=\"headerbar\">\n        <div style={{ lineHeight: '64px', float: 'right' }}>\n          <ul className=\"header-ul\"></ul>\n        </div>\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport { Link, withRouter } from 'react-router-dom';\nimport { Menu } from 'antd';\n\n//此组件的意义就是将数据抽离出来，通过传递数据去渲染\nclass CustomMenu extends React.Component<any> {\n  state = {\n    openKeys: [],\n    selectedKeys: ['4'],\n    defaultNodeList: []\n  };\n\n  handleClick = (e: any) => {\n    console.log('click ', e);\n    this.setState({ selectedKeys: [`${e.key}`] });\n    this.props.onSelect(`${e.key}`);\n  };\n\n  render() {\n    const { openKeys, selectedKeys } = this.state;\n    return (\n      <Menu theme=\"dark\" mode=\"horizontal\" onClick={this.handleClick} selectedKeys={selectedKeys}>\n        {this.props.menus &&\n          this.props.menus.map((item: { key: string; name: string }) => {\n            return <Menu.Item key={item.key}>{item.name}</Menu.Item>;\n          })}\n      </Menu>\n    );\n  }\n}\n\nexport default withRouter(CustomMenu);\n","import React from 'react';\nimport { Link, withRouter } from 'react-router-dom';\nimport { Menu } from 'antd';\nconst { SubMenu } = Menu;\n\ninterface MenuField {\n  url: string;\n  key: string;\n  name: string;\n  children: MenuField[];\n}\n\n//此组件的意义就是将数据抽离出来，通过传递数据去渲染\nclass CustomMenu extends React.Component<any> {\n  state = {\n    openKeys: [],\n    selectedKeys: [this.props.current ?? '47'],\n    defaultNodeList: []\n  };\n  componentWillReceiveProps(nextProps: any) {\n    if (nextProps.menus !== this.props.menus) {\n      const paths = findMenuPath(nextProps.menus, this.state.selectedKeys[0]);\n      this.setState({ openKeys: paths.slice(0, -1).map((item) => item.key.toString()) });\n    }\n  }\n\n  onOpenChange = (openKeys: any) => {\n    console.info('openKeys:', openKeys);\n    this.setState({\n      openKeys\n    });\n  };\n  renderMenuItem = (item: any) => {\n    return (\n      <Menu.Item key={item.key} onClick={() => this.viewContent(item)}>\n        <span>{item.title}</span>\n      </Menu.Item>\n    );\n  };\n  renderSubMenu = (item: any) => {\n    return (\n      <Menu.SubMenu\n        key={item.key}\n        title={\n          <span>\n            <span>{item.title}</span>\n          </span>\n        }\n      >\n        {item.children &&\n          item.children.map((child: any) => {\n            return child.children && child.children.length > 0\n              ? this.renderSubMenu(child)\n              : this.renderMenuItem(child);\n          })}\n      </Menu.SubMenu>\n    );\n  };\n  viewContent = (item: { url: string }) => {\n    console.log(item);\n\n    item.url && window.history.pushState('', '', item.url);\n  };\n\n  handleMenuClick = (key: string | number) => {\n    this.setState({ selectedKeys: [key] });\n    const menuPaths = findMenuPath(this.props.menus, key);\n    this.props.onMenuChange(menuPaths);\n  };\n\n  render() {\n    const { openKeys, selectedKeys } = this.state;\n    return (\n      <Menu\n        mode=\"inline\"\n        onOpenChange={this.onOpenChange}\n        onClick={({ key }) => this.handleMenuClick(key)}\n        openKeys={openKeys}\n        selectedKeys={selectedKeys}\n        style={{ height: '100%' }}\n      >\n        {this.props.menus &&\n          this.props.menus.map((item: any) => {\n            return item.children && item.children.length > 0\n              ? this.renderSubMenu(item)\n              : this.renderMenuItem(item);\n          })}\n      </Menu>\n    );\n  }\n}\n\nexport const findMenuPath = (menus: MenuField[], key: string | number) => {\n  let ret: MenuField[] = [];\n  const step = (\n    menus: MenuField[],\n    targetKey: string | number,\n    menuPaths: MenuField[]\n  ): boolean => {\n    let findRet = false;\n    for (const item of menus) {\n      if (item.key == targetKey) {\n        menuPaths.push(item);\n        ret = menuPaths;\n        return true;\n      }\n      if (item.children && item.children.length) {\n        menuPaths.push(item);\n        findRet = step(item.children, targetKey, menuPaths);\n        if (findRet) {\n          break;\n        } else {\n          menuPaths.pop();\n        }\n      }\n    }\n    return findRet;\n  };\n  step(menus, key, []);\n  return ret;\n};\n\nexport default withRouter(CustomMenu);\n","export const MENU_LIST = [\n  {\n    id: 1,\n    key: 1,\n    title: 'React Image Map',\n    url: '/widget/react-image-map/',\n    state: 1,\n    parent_id: 0,\n    oper_user_id: 0\n  }\n];\n","/*\n * @Author: qiuz\n * @Github: <https://github.com/qiuziz>\n * @Date:  2021-01-24 18:39:02\n * @Last Modified by: qiuz\n */\n\nimport React, { Component } from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport { Layout, Menu, Breadcrumb, Row, Col, Spin } from 'antd';\nimport './index.less';\n\nimport { registerMicroApps, start, initGlobalState, runAfterFirstMounted } from 'qiankun';\nimport { HeaderBar, CustomMenuLeft, findMenuPath } from 'components';\n\nimport { MENU_LIST } from './mock';\n\nconst { Header, Sider, Content, Footer } = Layout;\n\nconst LAST_SELECTED_MENU = 'last_selected_menu';\n\nexport default class AdminHome extends Component<any, any> {\n  constructor(props: any) {\n    super(props);\n    const selectedMenu = localStorage.getItem(LAST_SELECTED_MENU);\n    this.state = {\n      current: selectedMenu ?? '47',\n      loading: false,\n      collapsed: false,\n      subLoader: null,\n      menu: [],\n      currentMenuPaths: []\n    };\n  }\n  toggle = () => {\n    this.setState({\n      collapsed: !this.state.collapsed\n    });\n  };\n\n  genActiveRule = (routerPrefix: string) => {\n    return (location: any) => location.pathname.startsWith(routerPrefix);\n  };\n\n  componentDidMount() {\n    const loader = (loading: any) => {\n      const container = document.getElementById('subapp-container');\n      ReactDOM.render(\n        <>\n          <Spin\n            style={{\n              position: 'absolute',\n              top: '50%',\n              left: '50%'\n            }}\n            spinning={loading}\n          />\n          <div id=\"subapp-viewport\" />\n        </>,\n        container\n      );\n    };\n    this.setState({\n      loading: true,\n      subLoader: loader\n    });\n\n    registerMicroApps(\n      [\n        {\n          name: 'subapp',\n          entry: `//${window.location.host}/react-image-map/`,\n          container: '#subapp-viewport',\n          loader,\n          activeRule: '/widget/react-image-map/'\n        }\n      ],\n      {\n        beforeLoad: [\n          (app: any) =>\n            new Promise((resolve, reject) => {\n              console.log('[LifeCycle] before load %c%s', 'color: green;', app.name);\n              resolve(app.name);\n            })\n        ],\n        beforeMount: [\n          (app) =>\n            new Promise((resolve, reject) => {\n              console.log('[LifeCycle] before mount %c%s', 'color: green;', app.name);\n              resolve(app.name);\n            })\n        ],\n        afterUnmount: [\n          (app) =>\n            new Promise((resolve, reject) => {\n              console.log('[LifeCycle] after unmount %c%s', 'color: green;', app.name);\n              resolve(app.name);\n            })\n        ]\n      }\n    );\n    const { onGlobalStateChange, setGlobalState } = initGlobalState({\n      user: 'qiankun'\n    });\n\n    onGlobalStateChange((value, prev) =>\n      console.log('[onGlobalStateChange - master]:', value, prev)\n    );\n\n    setGlobalState({\n      ignore: 'master',\n      user: {\n        name: 'master'\n      }\n    });\n\n    /**\n     * Step4 启动应用\n     */\n    start();\n    this.getMenuQuery();\n    runAfterFirstMounted(() => {\n      console.log('[MainApp] first app mounted');\n    });\n  }\n\n  handleClick = (e: any) => {\n    console.log('click ', e);\n    this.setState({ current: e.key });\n  };\n\n  getSubTree = (): [] | null => {\n    const key = this.state.current;\n    let children = null;\n    this.state.menu.forEach((value: any) => {\n      if (value.key === key) {\n        children = value.children;\n      }\n    });\n    return children;\n  };\n\n  getMenuQuery = () => {\n    console.log('执行');\n    // 暂时MOCK\n    const menu: any = MENU_LIST;\n    this.setState({\n      menu: this.filterVisibleMenu(menu)\n    });\n    if (this.state.current) {\n      this.handleMenuChange(findMenuPath(menu, this.state.current));\n    }\n  };\n\n  filterVisibleMenu = (menus: any[]) => {\n    const ret = [];\n    for (const item of menus) {\n      if ([2, 3].includes(item.authority_type)) {\n        continue;\n      }\n      ret.push(item);\n      if (item.children) {\n        item.children = this.filterVisibleMenu(item.children);\n      }\n    }\n    return ret;\n  };\n\n  handleMenuChange = (menuPaths: any[]) => {\n    this.setState({ currentMenuPaths: menuPaths });\n    if (menuPaths.length) {\n      localStorage.setItem(LAST_SELECTED_MENU, menuPaths[menuPaths.length - 1].key);\n    }\n  };\n\n  render() {\n    const { menu, current, subLoader } = this.state;\n    const subTree = this.getSubTree();\n    return (\n      <BrowserRouter>\n        <Layout style={{ minHeight: '100vh' }}>\n          <Header className=\"header\" style={{ position: 'fixed', zIndex: 1, width: '100%' }}>\n            <div className=\"logo\">Widgets</div>\n            <Row justify=\"space-around\">\n              <Col xs={{ span: 20 }} lg={{ span: 20 }}></Col>\n              <Col xs={{ span: 24 }} lg={{ span: 4 }}>\n                <HeaderBar />\n              </Col>\n            </Row>\n          </Header>\n          <Layout style={{ marginTop: 64 }}>\n            <Sider\n              width={200}\n              className=\"site-layout-background\"\n              collapsed={this.state.collapsed}\n              onCollapse={this.state.collapsed}\n            >\n              <CustomMenuLeft\n                menus={menu}\n                current={this.state.current}\n                onMenuChange={this.handleMenuChange}\n              />\n            </Sider>\n            <Layout style={{ padding: '0 24px 24px' }}>\n              <Breadcrumb style={{ margin: '16px 0' }}>\n                {this.state.currentMenuPaths.map((item: any) => {\n                  return <Breadcrumb.Item key={item.id}>{item.title}</Breadcrumb.Item>;\n                })}\n              </Breadcrumb>\n              <Content\n                className=\"site-layout-background\"\n                style={{\n                  padding: 24,\n                  margin: 0\n                }}\n              >\n                <div id=\"subapp-container\" className=\"view\"></div>\n              </Content>\n              <Footer style={{ textAlign: 'center' }}>Widgets ©2021 Created by qiuz</Footer>\n            </Layout>\n          </Layout>\n        </Layout>\n      </BrowserRouter>\n    );\n  }\n}\n","/*\n * @Author: qiuz\n * @Github: <https://github.com/qiuziz>\n * @Date:  2021-01-24 18:37:50\n * @Last Modified by: qiuz\n */\n\nimport React from 'react';\nimport { BrowserRouter, Redirect, Route, Switch } from 'react-router-dom';\nimport AdminHome from 'pages/dashboard';\n\nconst BasicRoute = () => (\n  <BrowserRouter basename={'/widget'}>\n    <Switch>\n      <Route path=\"*\" component={AdminHome} />\n    </Switch>\n  </BrowserRouter>\n);\n\nexport default BasicRoute;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.less';\nimport Router from './router';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(<Router />, document.getElementById('root'));\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}